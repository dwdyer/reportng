<?xml version="1.0" encoding="UTF-8"?>
#set( $totalTests = $results.passedTests.size() + $results.skippedTests.size() + $results.failedTests.size() )
<testsuite name="$results.testClass.name"
           tests="$totalTests"
           failures="$results.failedTests.size()"
           errors="0"
           skipped="$results.skippedTests.size()"
           time="$utils.formatDuration($results.startTime, $results.endTime)">
  <properties />
  #foreach( $testResult in $results.failedTests )
    <testcase name="$testResult.name" time="$utils.formatDuration($testResult.startMillis, $testResult.endMillis)">
      <failure type="$testResult.throwable.class.name" message="$testResult.throwable.message">
<![CDATA[$utils.escapeString( $testResult.throwable.toString() )
#foreach( $element in $testResult.throwable.stackTrace )
  $utils.escapeString( $element.toString() )
#end
#set( $causes = $utils.getCauses($testResult.throwable) )
#foreach( $throwable in $causes )
Caused by: $utils.escapeString( $throwable.toString() )
#foreach( $element in $throwable.stackTrace )
  $utils.escapeString( $element.toString() )
#end
#end]]>
      </failure>
    </testcase>
  #end
  #foreach( $testResult in $results.skippedTests )
    <testcase name="$testResult.name" time="0.0">
      <skipped />
    </testcase>
  #end
  #foreach( $testResult in $results.passedTests )
    <testcase name="$testResult.name" time="$utils.formatDuration($testResult.startMillis, $testResult.endMillis)" />
  #end
</testsuite>