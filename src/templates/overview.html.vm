<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Unit Test Results</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="description" content="TestNG unit test results." />
  <link href="reportng.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="systemInfo">
  $meta.user<br />
  $meta.javaInfo<br />
  $meta.platform
</div>
<div class="title">$meta.reportTitle</div>
<div class="small">
  Generated by <a href="http://www.testng.org" target="_top">TestNG</a>
  with <a href="http://reportng.dev.java.net" target="_top">ReportNG</a>
  at $meta.reportTime on $meta.reportDate
</div>
<br />
<table width="100%">
  #foreach ($suite in $suites)
  #set( $suiteId = $velocityCount )
  #set ($totalTests = 0)
  #set ($totalPassed = 0)
  #set ($totalSkipped = 0)
  #set ($totalFailed = 0)
  <tr class="header suite">
    <td colspan="5">${suite.name}</td>
  </tr>
  #foreach ($result in $suite.results)
  #set ($notPassedTests = $result.testContext.skippedTests.size() + $result.testContext.failedTests.size())
  #set ($total = $result.testContext.passedTests.size() + $notPassedTests)
  #set ($totalTests = $totalTests + $total)
  #set ($totalPassed = $totalPassed + $result.testContext.passedTests.size())
  #set ($totalSkipped = $totalSkipped + $result.testContext.skippedTests.size())
  #set ($totalFailed = $totalFailed + $result.testContext.failedTests.size())

  <tr class="test">
    <td class="test"><a href="suite${suiteId}_test${velocityCount}_results.html">${result.testContext.name}</a></td>

    <td class="passRate">
      #if ($total > 0)
      #set ($passRate = (($total - $notPassedTests) * 100 / $total))
      $passRate%
      #else
      N/A
      #end
    </td>

    #if ($result.testContext.passedTests.size() > 0)
    <td class="passed number">$result.testContext.passedTests.size()</td>
    #else
    <td class="zero number">0</td>
    #end

    #if ($result.testContext.skippedTests.size() > 0)
    <td class="skipped number">$result.testContext.skippedTests.size()</td>
    #else
    <td class="zero number">0</td>
    #end

    #if ($result.testContext.failedTests.size() > 0)
    <td class="failed number">$result.testContext.failedTests.size()</td>
    #else
    <td class="zero number">0</td>
    #end
  </tr>
  #end
  <tr><td colspan="5" class="divider" style="padding: 0;"></td></tr>
  <tr class="test">
    <td style="background-color: #ffffff;"><strong>Total</strong></td>
    <td class="passRate suite">
      #if ($totalTests > 0)
      #set ($passRate = (($totalTests - $totalSkipped - $totalFailed) * 100 / $totalTests))
      $passRate%
      #else
      N/A
      #end
    </td>
    #if ($totalPassed > 0)
    <td class="passed number">$totalPassed</td>
    #else
    <td class="zero number">0</td>
    #end

    #if ($totalSkipped > 0)
    <td class="skipped number">$totalSkipped</td>
    #else
    <td class="zero number">0</td>
    #end

    #if ($totalFailed > 0)
    <td class="failed number">$totalFailed</td>
    #else
    <td class="zero number">0</td>
    #end
  </tr>
  <tr><td colspan="5">&nbsp;</td></tr>
  #end
</table>
</body>
</html>
